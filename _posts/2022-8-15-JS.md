---
layout: post
title: "JS笔记"
date: 2022-08-15 20:12:10 +0800
categories: JS
---



# JS

## 一、Promise

### 1.概述

- 是一个构造函数（对象），ES6新增的。


- 提供了一种解决异步的方法，而且解决了回调地狱的问题。
- 三种状态：Pending（进行中）、Resolved（已完成）、Rejected（已拒绝）
- 实例方法：Promise.then / catch /finally
- 静态方法： all / allsettled / ang

1. 当把一个任务交给 promise 的时候，它的状态就是Pending，任务完成之后状态变为Resolved，没有完成失败就变成了Rejected。
2. 一旦状态发生改变，那么就不能更改状态了。

### 2. then（解决回调地狱）

1. then 的默认返回值是Promise
2. 成功的结果通过 resolve 传递给 then ，下一次的异步可以在下一个 then 中进行可以一直链式调用。
3. then 的回调函数中如果写了 return，该值当做 Promise 的成功结果传递给下一个 then 
4. 如果在 then 中单独返回一个 promise ，那么下一次 then 的成功结果来自于上一个then 中成功回调里面返回的 promise 的 resolve 的结果。
5. then 的中断：可以通过回调中的 reject / throw new Error 进行中断。